<idea-plugin>
    <id>com.harryye.asset.import.plugin</id>
    <name>Asset Import &amp; Style Enforcer</name>
    <vendor email="harry@example.com" url="https://www.example.com">HarryYe</vendor>

    <description><![CDATA[
    Enforces Asset Java Coding Guidelines for Auto Import and Code Style.<br>
    Checks settings on project startup and prompts to auto-fix if they don't match the standard.
    ]]></description>

    <!-- 依赖 Java 模块 -->
    <depends>com.intellij.modules.platform</depends>
    <depends>com.intellij.modules.java</depends>

    <extensions defaultExtensionNs="com.intellij">
        <!-- 注册一个项目启动活动，在项目打开时运行检查 -->
        <postStartupActivity implementation="com.harryye.importplugin.AssetConfigStartupActivity"/>
    </extensions>

    <actions>
        <action id="com.harryye.importplugin.ApplyAssetConfigAction"
                class="com.harryye.importplugin.ApplyAssetConfigAction"
                text="Apply Asset Code Style"
                description="Immediately applies Asset coding guidelines to the project configuration">
            <add-to-group group-id="ProjectViewPopupMenu" anchor="last"/>
            <add-to-group group-id="EditorPopupMenu" anchor="last"/>
            <add-to-group group-id="ToolsMenu" anchor="last"/>
        </action>
        
        <action id="com.harryye.importplugin.FixFileImportsAction"
                class="com.harryye.importplugin.FixFileImportsAction"
                text="Fix File Imports (Asset Style)"
                description="Checks current file imports and applies Asset style fixes (Optimize Imports)">
            <!-- 尝试添加到更通用的组，或者明确指定位置 -->
            <add-to-group group-id="EditorPopupMenu" anchor="first"/>
            <add-to-group group-id="ProjectViewPopupMenu" anchor="first"/>
            <add-to-group group-id="ToolsMenu" anchor="last"/>
            <!-- 添加到 Generate 菜单 (Alt+Insert / Cmd+N) -->
            <add-to-group group-id="GenerateGroup" anchor="first"/>
        </action>
    </actions>
</idea-plugin>
